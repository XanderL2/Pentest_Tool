import re, subprocess; 

def propiedades_red():

    #Capturamos la salida estandar de el comando ejecutandolo como subproceso
    ifconfig = subprocess.run(["sudo","ifconfig", "wlan0"], capture_output=True, text=True).stdout;
    #Con una Expresion regular obtenemos nuestra IP, Mac y BroadCast segun su patron de busqueda
    ifconfig = re.findall(r"\d{1,3}\.\d{1,3}\.\d{1,3}\.\d+", ifconfig);


    #Capturamos la salida estandar de el comando ejecutandolo como subproceso
    route  = subprocess.run(["route"], capture_output=True, text=True).stdout;
    
    #Con una Expresion regular obtenemos nuestra IP, Mac y BroadCast segun su patron de busqueda
    route = re.findall(r"default\s+([\d.]+)", route);
    
    
    propiedades_wlan0 = {
                "ip": ifconfig[0],
                "mascara": ifconfig[1],
                "broadcast": ifconfig[2],
                "gateway": route[0],
                #El metodo sub permite reemplazar valores en una cadena
                "min_range": re.sub(r"\.\d+$", ".0", ifconfig[0]),
            } 
    

    return propiedades_wlan0;   #?Retorna un diccionario


